
{% extends 'lawyer_base.html' %}

{% block title %}Leave Reports - Adv Assist{% endblock %}

{% block content %}
<!--start main wrapper-->
<main class="main-wrapper">
    <div class="main-content">
      <!--breadcrumb-->
				<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
					<div class="breadcrumb-title pe-3">Dashboard</div>
					<div class="ps-3">
						<nav aria-label="breadcrumb">
							<ol class="breadcrumb mb-0 p-0">
								<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
								</li>
							</ol>
						</nav>
					</div>
					<div class="ms-auto">
					</div>
				</div>
				<!--end breadcrumb-->

                <div class="row">
					<div class="col-xl-6 mx-auto">
						<div class="card">
							<div class="card-header px-4 py-3">
								<h5 class="mb-0">Filter</h5>
							</div>
							<div class="card-body p-4">
                                <form method="GET" action="{% url 'leave_reports' %}" class="row g-3 needs-validation" novalidate>
									<div class="col-md-6">
										<label for="bsValidation1" class="form-label">Month</label>
                                        {{ form.month }}
									</div>
									<div class="col-md-6">
										<label for="bsValidation2" class="form-label">Year</label>
                                        {{ form.year }}	
									</div>
									<div class="col-md-12">
										<div class="d-md-flex d-grid align-items-center gap-3">
											<button type="submit" class="btn btn-primary">Filter</button>  
                    <a href="{% url 'download_leave_reports_pdf' %}" class="btn btn-success">Download PDF</a>              
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
				<!--end row-->

    <div class="container py-5">
        <h2 class="text-center mb-4">Leave Reports - {{ leave_reports.0.date|date:'F Y' }}</h2>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Type</th>
                    <th>Timing</th>
                    <th>Reason</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for report in leave_reports %}
                    <tr>
                        <td>{{ report.date|date:'d-m-Y' }}</td>
                        <td>{{ report.get_type_display }}</td>
                        <td>{{ report.get_timing_display }}</td>
                        <td>{{ report.reason }}</td>
                        <td>{{ report.status }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
</main>
{% endblock %}
